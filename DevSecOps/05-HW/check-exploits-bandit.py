# python -m pip install pytest-bandit
# Ниже приведён небезопасный код :)

import os
from subprocess import Popen, PIPE

files_path = os.path.dirname(__file__)
configPath = os.path.join(files_path, "config.yml")
p1 = Popen(['bandit-config-generator', '-o', f"{configPath}"])
p1 = Popen(['bandit', '-r', f"{files_path}\\examples", '-f', 'csv', '-o', f"{files_path}\\examples\\out.csv", '-l'], stdout=PIPE, stderr=PIPE, universal_newlines=True)
stdout, stderr = p1.communicate()
print (stdout)    
